<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## create

The SDK creation factory. Create an instance of the SDK by calling this factory with the desired configurations.
The SDK instance will be refered as 'api' throughout the rest of the documentation content.

**Parameters**

-   `config` **[config][1]** The configuration object.

**Examples**

```javascript
// Instantiate the SDK.
import { create } from 'kandy'
const client = create({
    authentication: { ... },
    logs: { ... },
    ...
});
// Use the SDK's API.
client.on( ... );
```

Returns **[api][2]** The SDK instance.

## config

The configuration object. This object defines what different configuration
values you can use when instantiating the SDK using the [create][3] function.

### config.logs

Configuration options for the Logs feature.

**Parameters**

-   `logs` **[Object][4]** Logs configs.
    -   `logs.logLevel` **[string][5]** Log level to be set. See [levels][6]. (optional, default `'debug'`)
    -   `logs.flatten` **[boolean][7]** Whether all logs should be output in a string-only format. (optional, default `false`)
    -   `logs.logActions` **[Object][4]?** Options specifically for action logs when logLevel is at DEBUG+ levels. Set this to false to not output action logs.
        -   `logs.logActions.actionOnly` **[boolean][7]** Only output information about the action itself. Omits the SDK context for when it occurred. (optional, default `true`)
        -   `logs.logActions.collapsed` **[boolean][7]** Whether logs should be minimized when initially output. The full log is still output and can be inspected on the console. (optional, default `false`)
        -   `logs.logActions.diff` **[boolean][7]** Include a diff of what SDK context was changed by the action. (optional, default `false`)
        -   `logs.logActions.exposePayloads` **[boolean][7]** Allow action payloads to be exposed in the logs, potentially displaying sensitive information (optional, default `false`)
    -   `logs.enableFcsLogs` **[boolean][7]** Enable the detailed call logger. (optional, default `true`)
    -   `logs.enableGrouping` **[boolean][7]** Whether to group information about an action log together in the console. (optional, default `true`)

### config.authentication

Configuration options for the CallMe Authentication feature.

**Parameters**

-   `authentication` **[Object][4]** Authentication configs.
    -   `authentication.subscription` **[Object][4]** 
        -   `authentication.subscription.protocol` **[string][5]** Protocol to be used for subscription requests. (optional, default `https`)
        -   `authentication.subscription.server` **[string][5]** Server to be used for subscription requests.
        -   `authentication.subscription.port` **[Number][8]** Port to be used for subscription requests. (optional, default `443`)
        -   `authentication.subscription.version` **[string][5]** Version of the REST API to be used. (optional, default `1`)
        -   `authentication.subscription.service` **[Array][9]?** Services to subscribe to for notifications.
    -   `authentication.websocket` **[Object][4]** 
        -   `authentication.websocket.protocol` **[string][5]** Protocol to be used for websocket notifications. (optional, default `wss`)
        -   `authentication.websocket.server` **[string][5]** Server to be used for websocket notifications.
        -   `authentication.websocket.port` **[Number][8]** Port to be used for websocket notifications. (optional, default `443`)

### config.call

Configuration options for the call feature.

**Parameters**

-   `call` **[Object][4]** The call configuration object.
    -   `call.sdpSemantics` **[string][5]** The sdpSemantics to use (`'unified-plan'` or `'plan-b'`). (optional, default `'unified-plan'`)
    -   `call.iceServers` **[Array][9]&lt;IceServer>?** The list of ICE servers to be used for calls.
    -   `call.serverTurnCredentials` **[boolean][7]** Whether server-provided TURN credentials should be used. (optional, default `true`)
    -   `call.sdpHandlers` **[Array][9]&lt;SdpHandlerFunction>?** List of SDP handler functions to modify SDP. Advanced usage.
    -   `call.removeH264Codecs` **[boolean][7]** Whether to remove "H264" codec lines from incoming and outgoing SDP messages. (optional, default `true`)
    -   `call.earlyMedia` **[boolean][7]** Whether early media should be supported for calls. (optional, default `false`)

### config.connectivity

Configuration options for the Connectivity feature.

**Parameters**

-   `connectivity` **[Object][4]** Connectivity configs.
    -   `connectivity.method` **[Object][4]** Configuration for how connectivity checks should be made.
        -   `connectivity.method.type` **[String][5]** The method of connectivity checking to use: `keepAlive` or `pingPong`. (optional, default `'keepAlive'`)
        -   `connectivity.method.responsibleParty` **[String][5]** Configures who is responsible for initiating the connectivity check: `client` or `server`. (optional, default `'client'`)
    -   `connectivity.pingInterval` **[Number][8]** Time in between websocket ping attempts (milliseconds). Only used for when the client is responsible for ping/connCheck. (optional, default `30000`)
    -   `connectivity.reconnectLimit` **[Number][8]** Number of failed reconnect attempts before reporting an error. Can be set to 0 to not limit reconnection attempts. (optional, default `5`)
    -   `connectivity.reconnectDelay` **[Number][8]** Base time between websocket reconnect attempts (milliseconds). (optional, default `5000`)
    -   `connectivity.reconnectTimeMultiplier` **[Number][8]** Reconnect delay multiplier for subsequent attempts. The reconnect delay time will be multiplied by this factor after each failed reconnect attempt to increase the delay between attempts. (optional, default `1`)
    -   `connectivity.reconnectTimeLimit` **[Number][8]** Maximum time delay between reconnect attempts (milliseconds). Used in conjunction with `reconnectTimeMultiplier` to prevent overly long delays between reconnection attempts. (optional, default `640000`)
    -   `connectivity.autoReconnect` **[Boolean][7]** Flag to determine whether reconnection will be attempted automatically after connectivity disruptions. (optional, default `true`)
    -   `connectivity.maxMissedPings` **[Number][8]** Maximum pings sent (without receiving a response) before reporting an error. (optional, default `3`)
    -   `connectivity.checkConnectivity` **[Boolean][7]** Flag to determine whether to enable connectivity checking or not. (optional, default `true`)

### config.notifications

Configuration options for the notification feature.

**Parameters**

-   `notifications` **[Object][4]** The notifications configuration object.
    -   `notifications.idCacheLength` **[number][8]** Default amount of event ids to remember for de-duplication purposes. (optional, default `100`)
    -   `notifications.pushRegistration` **[Object][4]?** Object describing the server to use for push services.
        -   `notifications.pushRegistration.server` **[string][5]?** Hostname for the push registration server.
        -   `notifications.pushRegistration.port` **[string][5]?** Port for the push registration server.
        -   `notifications.pushRegistration.protocol` **[string][5]?** Protocol for the push registration server.
        -   `notifications.pushRegistration.version` **[string][5]?** Version for the push registration server.
    -   `notifications.realm` **[string][5]?** The realm used for push notifications
    -   `notifications.bundleId` **[string][5]?** The bundle id used for push notifications

## call:operation

A call operation has either started, been updated, or finished.

Information about ongoing call operations are stored with the call
   information (see the [call.getById][10] API). This event
   indicates that an operation's information has been changed.

Local call operations will be tracked from start to finish. An operation may
   be updated as it progresses, based on the status of the operation. The
   operation status may be ongoing or pending, depending if the operation is
   waiting on activity on the local or remote end of the call, respectively.

Except in the case of slow-start operations, remote operations will only be
   tracked as a "finish", to indicate that it occurred.

**Parameters**

-   `params` **[Object][4]** 
    -   `params.operation` **[string][5]** The call operation causing this event.
    -   `params.transition` **[string][5]** The transition reason for the operation change.
    -   `params.isLocal` **[boolean][7]** Flag indicating whether the operation was local or not.
    -   `params.previous` **[Object][4]?** The operation information before this change.
           If the transition is to "start" the operation, there will be no previous information.
        -   `params.previous.operation` **[string][5]?** The operation that was ongoing.
        -   `params.previous.status` **[string][5]?** The operation status before this change.
    -   `params.error` **BasicError?** An error object, if the operation was not successful.

## api

The 'api' is the type returned by the create function.
It contains various top-level functions that pertain to SDK global instance
as well as several nested namespaces that pertain to various features (e.g. call, contacts, presence, etc).

### getConfig

Gets the current configuration Object. This is the object that is initially set as part of SDK creation using 'create' function.

Returns **[Object][4]** A configuration Object.

### updateConfig

Update values in the global Config section of the store. The values pertain to the SDK configuration.

**Parameters**

-   `newConfigValues` **[Object][4]** Key-value pairs that will be placed into the store. See [config][11] for details on what key-value pairs are available for use.

### on

Add an event listener for the specified event type. The event is emmited by the SDK instance.

**Parameters**

-   `type` **[string][5]** The event type for which to add the listener.
-   `listener` **[Function][12]** The listener for the event type. The parameters of the listener depend on the event type.

**Examples**

```javascript
// Listen for events of a specific type emitted by the SDK.
client.on('dummy:event', function (params) {
   // Handle the event.
})
```

-   Throws **[Error][13]** Invalid event type

### off

Removes an event listener for the specified event type. The event is emmited by the SDK instance.

**Parameters**

-   `type` **[string][5]** The event type for which to remote the listener.
-   `listener` **[Function][12]** The listener to remove.


-   Throws **[Error][13]** Invalid event type

### subscribe

Adds a global event listener to SDK instance.

**Parameters**

-   `listener` **[Function][12]** The event listener to add. The parameters are (type, ...args), where args depend on the event type.


-   Throws **[Error][13]** Listener not a function

### unsubscribe

Removes a global event listener from SDK instance.

**Parameters**

-   `listener` **[Function][12]** The event listener to remove.


-   Throws **[Error][13]** Listener not a function

### getBrowserDetails

Retrieve information about the browser being used.

Browser information being defined indicates that the browser supports
   basic webRTC scenarios.

**Examples**

```javascript
const details = client.getBrowserDetails()

log(`Browser in use: ${details.browser}, version ${details.version}.`)
```

Returns **[Object][4]** Object containing `browser` and `version` information.

### getUserInfo

Retrieves information about the current user.

Returns **[Object][4]** user The user data.

Returns **[string][5]** user.username The username of the current user. Note that this username can take different encoded forms.
                                It's not meant to be displayed to a user.

Returns **[string][5]** user.token The current access token.

### BasicError

The Basic Error object. Provides information about an error that occurred in the SDK.

Type: [Object][4]

**Properties**

-   `code` **[string][5]** The code of the error. If no code is known, this will be 'NO_CODE'.
-   `message` **[string][5]** A human-readable message to describe the error. If no message is known, this will be 'An error occured'.

## call

The 'call' namespace (within the 'api' type) is used to make audio and video calls to and from
SIP users and PSTN phones.

Call functions are all part of the 'call' namespace.

### makeAnonymous

Starts an outgoing call as an anonymous user.

**Parameters**

-   `callee` **[string][5]** Full user ID of the call recipient.
-   `credentials` **[Object][4]** Information needed to validate a token anonymous call.
    -   `credentials.realm` **[Object][4]** The realm used to encrypt the tokens.
    -   `credentials.accountToken` **[Object][4]?** The encrypted account token of the account making the call.
    -   `credentials.fromToken` **[Object][4]?** The encrypted SIP address of the account/caller.
    -   `credentials.toToken` **[Object][4]?** The encrypted SIP address of the callee.
-   `callOptions` **[Object][4]** Call options.
    -   `callOptions.from` **[string][5]** The URI of the user making the call.
    -   `callOptions.audio` **[Boolean][7]** Whether the call should have audio on start. Currently, audio-less calls are not supported. (optional, default `true`)
    -   `callOptions.audioOptions` **[Object][4]?** Options for configuring the call's audio.
        -   `callOptions.audioOptions.deviceId` **MediaConstraint?** ID of the microphone to receive audio from.
    -   `callOptions.video` **[Boolean][7]** Whether the call should have video on start. (optional, default `false`)
    -   `callOptions.videoOptions` **[Object][4]?** Options for configuring the call's video.
        -   `callOptions.videoOptions.deviceId` **MediaConstraint?** ID of the camera to receive video from.
        -   `callOptions.videoOptions.height` **MediaConstraint?** The height of the video.
        -   `callOptions.videoOptions.width` **MediaConstraint?** The width of the video.
        -   `callOptions.videoOptions.frameRate` **MediaConstraint?** The frame rate of the video.
    -   `callOptions.displayName` **[string][5]?** Custom display name to be provided to the destination. Only used with token-less anonymous calls. Not supported in all environments and may use default display name.

**Examples**

```javascript
// Make a basic anonymous call.
let callee = 'user1@example.com';
let callOptions = { ... };

let callId = client.call.makeAnonymous(callee, {}, callOptions);
```

```javascript
// Make a time-limited token anonymous call.
let callee = 'user1@example.com';
let account = 'user2@example.com';
let callOptions = { ...
    customParameters: [
      {
        "name": "X-GPS",
        "value": "42.686032,23.344565"
      }
    ],
    ...
  };

// Generate / Retrieve the encrypted tokens.
const key = 'abc123...';
const credentials = {
     accountToken: createToken(account, key),
     fromToken: createToken('sip:' + account, key),
     toToken: createToken('sip:' + callee, key),
     realm: 'realmAbc123...'
};

let callId = client.call.makeAnonymous(callee, credentials, callOptions);
```

Returns **[string][5]** Id of the outgoing call.

### MediaObject

The state representation of a Media object.
Media is a collection of Track objects.

Type: [Object][4]

**Properties**

-   `id` **[string][5]** The ID of the Media object.
-   `local` **[boolean][7]** Indicator on whether this media is local or remote.
-   `tracks` **[Array][9]&lt;TrackObject>** A list of Track objects that are contained in this Media object.

### SdpHandlerFunction

The form of an SDP handler function and the expected arguments that it receives.

Type: [Function][12]

**Parameters**

-   `newSdp` **[Object][4]** The SDP so far (could have been modified by previous handlers).
-   `info` **SdpHandlerInfo** Additional information that might be useful when making SDP modifications.
-   `originalSdp` **[Object][4]** The SDP in its initial state.

Returns **[Object][4]** The resulting modified SDP based on the changes made by this function.

### SdpHandlerInfo

Type: [Object][4]

**Properties**

-   `type` **RTCSdpType** The session description's type.
-   `endpoint` **[string][5]** Which end of the connection created the SDP.

### DevicesObject

A collection of media devices and their information.

Type: [Object][4]

**Properties**

-   `camera` **[Array][9]&lt;DeviceInfo>** A list of camera device information.
-   `microphone` **[Array][9]&lt;DeviceInfo>** A list of microphone device information.
-   `speaker` **[Array][9]&lt;DeviceInfo>** A list of speaker device information.

### IceServer

Type: [Object][4]

**Properties**

-   `urls` **([Array][9]&lt;[string][5]> | [string][5])** Either an array of URLs for reaching out several ICE servers or a single URL for reaching one ICE server.
-   `credential` **[string][5]?** The credential needed by the ICE server.

### BandwidthControls

The BandwidthControls type defines the format for configuring media and/or track bandwidth options.
BandwidthControls only affect received remote tracks of the specified type.

Type: [Object][4]

**Properties**

-   `audio` **[number][8]?** The desired bandwidth bitrate in kilobits per second for received remote audio.
-   `video` **[number][8]?** The desired bandwidth bitrate in kilobits per second for received remote video.

**Examples**

```javascript
// Specify received remote video bandwidth limits when making a call.
client.call.make(destination, mediaConstraints,
 {
   bandwidth: {
     video: 5
   }
 }
)
```

### TrackObject

A Track is a stream of audio or video media from a single source.
Tracks can be retrieved using the Media module's `getTrackById` API and manipulated with other functions of the Media module.

Type: [Object][4]

**Properties**

-   `containers` **[Array][9]&lt;[string][5]>** The list of CSS selectors that were used to render this Track.
-   `disabled` **[boolean][7]** Indicator of whether this Track is disabled or not. If disabled, it cannot be re-enabled.
-   `id` **[string][5]** The ID of the Track.
-   `kind` **[string][5]** The kind of Track this is (audio, video).
-   `label` **[string][5]** The label of the device this Track uses.
-   `muted` **[boolean][7]** Indicator on whether this Track is muted or not.
-   `state` **[string][5]** The state of this Track. Can be 'live' or 'ended'.
-   `streamId` **[string][5]** The ID of the Media Stream that includes this Track.

### DeviceInfo

Contains information about a device.

Type: [Object][4]

**Properties**

-   `deviceId` **[string][5]** The ID of the device.
-   `groupId` **[string][5]** The group ID of the device. Devices that share a `groupId` belong to the same physical device.
-   `kind` **[string][5]** The type of the device (audioinput, audiooutput, videoinput).
-   `label` **[string][5]** The name of the device.

### CallObject

Information about a Call.

Can be retrieved using the [call.getAll][14] or
   [call.getById][10] APIs.

Type: [Object][4]

**Properties**

-   `id` **[string][5]** The ID of the call.
-   `direction` **[string][5]** The direction in which the call was created. Can be 'outgoing' or 'incoming'.
-   `state` **[string][5]** The current state of the call. See [call.states][15] for possible states.
-   `localHold` **[boolean][7]** Indicates whether this call is currently being held locally.
-   `remoteHold` **[boolean][7]** Indicates whether this call is currently being held remotely.
-   `localTracks` **[Array][9]&lt;[string][5]>** A list of Track IDs that the call is sending to the remote participant.
-   `remoteTracks` **[Array][9]&lt;[string][5]>** A list of Track IDs that the call is receiving from the remote participant.
-   `remoteParticipant` **[Object][4]** Information about the other call participant.
    -   `remoteParticipant.displayNumber` **[string][5]?** The User ID of the remote participant in the form "username@domain".
    -   `remoteParticipant.displayName` **[string][5]?** The display name of the remote participant.
-   `bandwidth` **BandwidthControls** The bandwidth limitations set for the call.
-   `startTime` **[number][8]** The start time of the call in milliseconds since the epoch.
-   `endTime` **[number][8]?** The end time of the call in milliseconds since the epoch.

### MediaConstraint

The MediaConstraint type defines the format for configuring media options.
Either the `exact` or `ideal` property should be provided. If both are present, the
   `exact` value will be used.

When the `exact` value is provided, it will be the only value considered for the option.
   If it cannot be used, the constraint will be considered an error.

When the `ideal` value is provided, it will be considered as the optimal value for the option.
   If it cannot be used, the closest acceptable value will be used instead.

Type: [Object][4]

**Properties**

-   `exact` **[string][5]?** The required value for the constraint. Other values will not be accepted.
-   `ideal` **[string][5]?** The ideal value for the constraint. Other values will be considered if necessary.

**Examples**

```javascript
// Specify video resolution when making a call.
client.call.make(destination, {
   audio: true,
   video: true,
   videoOptions: {
     // Set height and width constraints to ideally be 1280x720.
     height: { ideal: 720 },
     width: { ideal: 1280 }
   }
})
```

### hold

Puts a call on hold.

The specified call to hold must not already be locally held. Any/all
   media received from the remote participant will stop being received,
   and any/all media being sent to the remote participant will stop
   being sent.

Some call operations cannot be performed while the call is on hold. The
   call can be taken off hold with the [call.unhold][16] API.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a [call:stateChange][18]
   event locally when the operation completes. The remote participant
   will be notified of the operation through a
   [call:stateChange][18] event as well.

**Parameters**

-   `callId` **[string][5]** The ID of the call to hold.

### unhold

Takes a call off hold.

The specified call to unhold must be locally held. If the call is not
   also remotely held, call media will be reconnected as it was before
   the call was held.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a [call:stateChange][18]
   event locally when the operation completes. The remote participant
   will be notified of the operation through a
   [call:stateChange][18] event as well.

**Parameters**

-   `callId` **[string][5]** The ID of the call to unhold.

### getAll

Retrieves the information of all calls made during the current session.

**Examples**

```javascript
let calls = client.call.getAll()
let currentCalls = calls.filter(call => {
    return call.state === client.call.states.CONNECTED
})
```

Returns **[Array][9]&lt;CallObject>** Call objects.

### getById

Retrieves the information of a single call with a specific call ID.

**Parameters**

-   `callId` **[string][5]** The ID of the call to retrieve.

Returns **CallObject** A call object.

### end

Ends an ongoing call.

The SDK will stop any/all local media associated with the call. Events
   will be emitted to indicate which media tracks were stopped. See the
   [call:trackEnded][19] event for more
   information.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a [call:stateChange][18]
   event locally when the operation completes. The remote participant
   will be notified, through their own
   [call:stateChange][18] event, that the
   call was ended.

**Parameters**

-   `callId` **[string][5]** The ID of the call to end.

### addMedia

Add new media tracks to an ongoing call.
Will get new media tracks from the specific sources to add to the call.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a [call:newTrack][20] event
   both for the local and remote users to indicate a track has been
   added to the Call.

**Parameters**

-   `callId` **[string][5]** The ID of the call to add media to.
-   `media` **[Object][4]** The media options to add to the call. (optional, default `{}`)
    -   `media.audio` **[boolean][7]** Whether to add audio to the call. (optional, default `false`)
    -   `media.audioOptions` **[Object][4]?** Options for configuring the call's audio.
        -   `media.audioOptions.deviceId` **MediaConstraint?** ID of the microphone to receive audio from.
    -   `media.video` **[boolean][7]** Whether to add video to the call. (optional, default `false`)
    -   `media.screen` **[boolean][7]** Whether to add the screenshare to the call. (optional, default `false`)
    -   `media.videoOptions` **[Object][4]?** Options for configuring the call's video.
        -   `media.videoOptions.deviceId` **MediaConstraint?** ID of the camera to receive video from.
        -   `media.videoOptions.height` **MediaConstraint?** The height of the video.
        -   `media.videoOptions.width` **MediaConstraint?** The width of the video.
        -   `media.videoOptions.frameRate` **MediaConstraint?** The frame rate of the video.
    -   `media.screenOptions` **[Object][4]?** Options for configuring the call's screenShare.
        -   `media.screenOptions.height` **MediaConstraint?** The height of the screenShare.
        -   `media.screenOptions.width` **MediaConstraint?** The width of the screenShare.
        -   `media.screenOptions.frameRate` **MediaConstraint?** The frame rate of the screenShare.
-   `options` **[Object][4]?**  (optional, default `{}`)
    -   `options.bandwidth` **BandwidthControls?** Options for configuring media's bandwidth.

### removeMedia

Remove tracks from an ongoing call.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a [call:trackEnded][19]
   event for both the local and remote users to indicate that a track
   has been removed.

**Parameters**

-   `callId` **[string][5]** The ID of the call to remove media from.
-   `tracks` **[Array][9]** A list of track IDs to remove.
-   `options` **[Object][4]?**  (optional, default `{}`)
    -   `options.bandwidth` **BandwidthControls?** Options for configuring media's bandwidth.

### sendDTMF

Send DTMF tones to a call's audio.

The provided tone can either be a single DTMF tone (eg. '1') or a
   sequence of DTMF tones (eg. '123') which will be played one after the
   other.

The specified call must be either in Connected, Ringing, or Early Media
   state, otherwise invoking this API will have no effect.

The tones will be sent as out-of-band tones if supported by the call,
   otherwise they will be added in-band to the call's audio.

The progress of the operation will be tracked via the [call:operation][17] event.

**Parameters**

-   `callId` **[string][5]** ID of the call being acted on.
-   `tone` **[string][5]** DTMF tone(s) to send. Valid chracters are ['0','1','2','3','4','5','6','7','8','9','#','*' and ','].
-   `duration` **[number][8]** The amount of time, in milliseconds, that each DTMF tone should last. (optional, default `100`)
-   `intertoneGap` **[number][8]** The length of time, in milliseconds, to wait between tones. (optional, default `70`)

### getStats

Get a report about low-level call statistical information.

A Track ID can optionally be provided to get a report for a specific
   Track of the Call.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a
   [call:statsReceived][21] event, after
   the operation completes, that has the report.

**Parameters**

-   `callId` **[string][5]** The ID of the Call to retrieve the report.
-   `trackId` **[string][5]?** ID of a Track being used by the Call. If not
       provided, RTCStatsReport is generated for the Call itself.

### replaceTrack

Replace a call's track with a new track of the same media type.

The operation will remove the old track from the call and add a
   new track to the call. This effectively allows for changing the
   track constraints (eg. device used) for an ongoing call.

The progress of the operation will be tracked via the [call:operation][17] event.

The SDK will emit a
   [call:trackReplaced][22] event
   locally when the operation completes. The newly added track will need
   to be handled by the local application. The track will be replaced
   seamlessly for the remote application, which will not receive an event.

**Parameters**

-   `callId` **[string][5]** The ID of the call to replace the track of.
-   `trackId` **[string][5]** The ID of the track to replace.
-   `media` **[Object][4]** The media options. (optional, default `{}`)
    -   `media.audio` **[boolean][7]** Whether to create an audio track. (optional, default `false`)
    -   `media.audioOptions` **[Object][4]?** Options for configuring the audio track.
        -   `media.audioOptions.deviceId` **MediaConstraint?** ID of the microphone to receive audio from.
    -   `media.video` **[boolean][7]** Whether to create a video track. (optional, default `false`)
    -   `media.videoOptions` **[Object][4]?** Options for configuring the video track.
        -   `media.videoOptions.deviceId` **MediaConstraint?** ID of the camera to receive video from.
        -   `media.videoOptions.height` **MediaConstraint?** The height of the video.
        -   `media.videoOptions.width` **MediaConstraint?** The width of the video.
        -   `media.videoOptions.frameRate` **MediaConstraint?** The frame rate of the video.

**Examples**

```javascript
const callId = ...
// Get the video track used by the call.
const videoTrack = ...

// Replace the specified video track of the call with a new
//    video track.
client.call.replaceTrack(callId, videoTrack.id, {
  // The track should be replaced with a video track using
  //    a specific device. This effectively changes the input
  //    device for an ongoing call.
  video: true,
  videoOptions: {
    deviceId: cameraId
  }
})
```

## connection

The 'connection' namespace is used to connect and maintain connections between
the SDK and one or more backend servers.

### getSocketState

Get the state of the websocket.

**Parameters**

-   `platform` **[string][5]** Backend platform for which to request the websocket's state. (optional, default `'link'`)

### enableConnectivityChecking

Enables or disables connectivity checking.

**Parameters**

-   `enable` **[boolean][7]** Enable connectivity checking.

## logger

The internal logger is used to provide information about the SDK's behaviour.
The logger can provide two types of logs: basic logs and action logs. Basic
logs are simple lines of information about what the SDK is doing during operations.
Action logs are complete information about a specific action that occurred
within the SDK, providing debug information describing it.
The amount of information logged can be configured as part of the SDK configuration.
See [config.logs][23] .

### levels

Possible levels for the SDK logger.

**Properties**

-   `SILENT` **[string][5]** Log nothing.
-   `ERROR` **[string][5]** Log only unhandled errors.
-   `WARN` **[string][5]** Log issues that may cause problems or unexpected behaviour.
-   `INFO` **[string][5]** Log useful information and messages to indicate the SDK's internal operations.
-   `DEBUG` **[string][5]** Log information to help diagnose problematic behaviour.

## media

The 'media' namespace provides an interface for interacting with Media that the
   SDK has access to. Media is used conjunction with the [Calls][24]
   feature to manipulate and render the Tracks sent and received from a Call.

Media and Track objects are not created directly, but are created as part of
   Call operations. Media and Tracks will either be marked as "local" or
   "remote" depending on whether their source is the local user's machine
   or a remote user's machine.

The Media feature also keeps track of media devices that the user's machine
   can access. Any media device (eg. USB headset) connected to the machine
   can be used as a source for media. Available devices can be found using
   the [media.getDevices][25] API.

### getDevices

Retrieves the available media devices for use.

The [devices:change][26] event will be
   emitted when the available media devices have changed.

Returns **[Object][4]** The lists of camera, microphone, and speaker devices.

### getById

Retrieves an available Media object with a specific Media ID.

**Parameters**

-   `mediaId` **[string][5]** The ID of the Media to retrieve.

Returns **MediaObject** A Media object.

### getTrackById

Retrieve an available Track object with a specific Track ID.

**Parameters**

-   `trackId` **[string][5]** The ID of the Track to retrieve.

Returns **TrackObject** A Track object.

### renderTracks

Render Media Tracks in a container.

The container is specified by providing a CSS selector string that
   corresponds to the HTMLElement to act as the container.

**Parameters**

-   `trackIds` **[Array][9]&lt;[string][5]>** List of Track IDs to be rendered.
-   `cssSelector` **[string][5]** A CSS selector string that uniquely
       identifies an element. Ensure that special characters are properly
       escaped.
-   `options` **[Object][4]?** Additional options for rendering the tracks.
    -   `options.speakerId` **[string][5]?** The speaker's Device ID to use for audio tracks.

**Examples**

```javascript
// When an outgoing call is accepted, render the Media used for the call.
client.on('call:accepted', function (params) {
    // Get the information about the call.
    const call = client.call.getById(params.callId)

    // Render the call's local and remote media in their respective containers.
    client.media.render(call.localMedia[0], localContainer)
    client.media.render(call.remoteMedia[0], remoteContainer)
})
```

### removeTracks

Remove Media Tracks from a container.

The container is specified by providing a CSS selector string that
   corresponds to the HTMLElement to act as the container.

**Parameters**

-   `trackIds` **[Array][9]&lt;[string][5]>** List of Track IDs to stop being rendered.
-   `cssSelector` **[string][5]** A CSS selector string that uniquely
       identifies an element. Ensure that special characters are properly
       escaped.

### muteTracks

Mutes the specified Tracks at their media source.

Prevents media from being received for the Tracks. Audio Tracks will
   become silent and video Tracks will be a black frame.

If a local Track being sent in a Call is muted, the Track will be
   noticeably muted for the remote user. If a remote Track received in a
   call is muted, the result will only be noticeable locally.

The SDK will emit a [media:muted][27] event
   when a Track has been muted.

**Parameters**

-   `trackIds` **[Array][9]&lt;[string][5]>** List of Track IDs.

### unmuteTracks

Unmutes the specified Tracks.

Media will resume as normal for the Tracks.

The SDK will emit a [media:unmuted][28] event
   when a Track has been unmuted.

**Parameters**

-   `trackIds` **[Array][9]&lt;[string][5]>** List of Track IDs.

## notification

The 'notification' namespace allows user to register/deregister for/from push notifications as well as
enabling/disabling the processing of websocket notifications.

### process

Provides an external notification to the system for processing.

**Parameters**

-   `notification` **[Object][4]** 
-   `channel` **[string][5]?** The channel that the notification came from.

### registerPush

Registers a device token for push notifications.

**Parameters**

-   `params` **[Object][4]** 
    -   `params.deviceToken` **[string][5]** The device token to be registered.
    -   `params.services` **[Array][9]&lt;[string][5]>** Array of services to register for.
    -   `params.pushProvider` **[string][5]** The push provider, can be either 'apple' or 'google'.
    -   `params.clientCorrelator` **[string][5]** Unique identifier for a client device.

### deregisterPush

Deregisters for push notifications.

### enableWebsocket

Enables, or disables, the processing of websocket notifications.

**Parameters**

-   `enable` **[boolean][7]** Whether the websocket channel should be enabled.

## sdpHandlers

A set of [SdpHandlerFunction][29]s for manipulating SDP information.
These handlers are used to customize low-level call behaviour for very specific
environments and/or scenarios. They can be provided during SDK instantiation
to be used for all calls.

**Examples**

```javascript
import { create, sdpHandlers } from 'kandy';
const codecRemover = sdpHandlers.createCodecRemover(['VP8', 'VP9'])
const client = create({
  call: {
    sdpHandlers: [ <Your-SDP-Handler-Function>, ...]
  }
})
```

### createCodecRemover

In some scenarios it's necessary to remove certain codecs being offered by the SDK to the remote party.
While creating an SDP handler would allow a user to perform this type of manipulation, it is a non-trivial task that requires in-depth knowledge of WebRTC SDP.

To facilitate this common task, the SDK provides a codec removal handler creator that can be used for this purpose.

The SDP handlers are exposed on the entry point of the SDK. They need to be added to the list of SDP handlers via configuration on creation of an instance of the SDK.

**Parameters**

-   `codecs` **[Array][9]&lt;[string][5]>** A list of codec names to remove from the SDP.

**Examples**

```javascript
import { create, sdpHandlers } from 'kandy';
const codecRemover = sdpHandlers.createCodecRemover(['VP8', 'VP9'])
const client = create({
  call: {
    sdpHandlers: [codecRemover]
  }
})
```

Returns **SdpHandlerFunction** The resulting SDP handler that will remove the codec.

[1]: #config

[2]: #api

[3]: #create

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[6]: Logger.levels

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[9]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[10]: Calls.getById

[11]: #config

[12]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[13]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[14]: Calls.getAll

[15]: Calls.states

[16]: Calls.unhold

[17]: Calls.event:call:operation

[18]: Calls.event:call:stateChange

[19]: Calls.event:call:trackEnded

[20]: Calls.event:call:newTrack

[21]: Calls.event:call:statsReceived

[22]: Calls.event:call:trackReplaced

[23]: #configconfiglogs

[24]: Calls

[25]: Media.getDevices

[26]: Media.event:devices:change

[27]: Media.event:media:muted

[28]: Media.event:media:unmuted

[29]: #sdphandlerfunction
